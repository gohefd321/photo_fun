<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ì§„ ì¬ë¯¸ìˆê²Œ ë§Œë“¤ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .upload-area {
            border: 3px dashed #667eea;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 30px;
        }

        .upload-area:hover {
            background: #f0f4ff;
            border-color: #764ba2;
        }

        .upload-area input {
            display: none;
        }

        .effects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .effect-btn {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
            display: none;
        }

        .effect-btn.active {
            display: block;
        }

        .effect-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .canvas-container {
            position: relative;
            width: 100%;
            height: 600px;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
            display: none;
        }

        .canvas-container.active {
            display: block;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
        }

        .reset-btn {
            display: none;
            margin: 20px auto 0;
            padding: 15px 40px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .reset-btn.active {
            display: block;
        }

        .reset-btn:hover {
            background: #ff5252;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“¸ ì‚¬ì§„ ì¬ë¯¸ìˆê²Œ ë§Œë“¤ê¸°</h1>
        
        <div class="upload-area" id="uploadArea">
            <h2>ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ì„¸ìš”</h2>
            <p>í´ë¦­í•˜ê±°ë‚˜ ë“œë˜ê·¸ ì•¤ ë“œë¡­</p>
            <input type="file" id="fileInput" accept="image/*">
        </div>

        <div class="effects-grid">
            <button class="effect-btn" id="randomBtn">ğŸ² ëœë¤ íš¨ê³¼!</button>
            <button class="effect-btn" data-effect="trash">ğŸ—‘ï¸ ì“°ë ˆê¸°í†µì— ì²˜ë°•íˆê¸°</button>
            <button class="effect-btn" data-effect="space">ğŸš€ ìš°ì£¼ë¡œ ë‚ ì•„ê°€ê¸°</button>
            <button class="effect-btn" data-effect="police">ğŸ‘® ê²½ì°°ì— ì²´í¬ë˜ê¸°</button>
            <button class="effect-btn" data-effect="tornado">ğŸŒªï¸ í† ë„¤ì´ë„ì— íœ˜ë§ë¦¬ê¸°</button>
            <button class="effect-btn" data-effect="pixel">ğŸ‘¾ í”½ì…€í™” ë˜ê¸°</button>
            <button class="effect-btn" data-effect="portal">ğŸŒ€ í¬í„¸ì— ë¹¨ë ¤ë“¤ê¸°</button>
            <button class="effect-btn" data-effect="explosion">ğŸ’¥ í­ë°œí•˜ê¸°</button>
            <button class="effect-btn" data-effect="water">ğŸŒŠ ë¬¼ì— ë¹ ì§€ê¸°</button>
            <button class="effect-btn" data-effect="fire">ğŸ”¥ ë¶ˆíƒ€ë²„ë¦¬ê¸°</button>
            <button class="effect-btn" data-effect="matrix">ğŸ’š ë§¤íŠ¸ë¦­ìŠ¤ ì½”ë“œë¡œ ë³€í™˜</button>
            <button class="effect-btn" data-effect="alien">ğŸ‘½ ì™¸ê³„ì¸ì—ê²Œ ë‚©ì¹˜ë˜ê¸°</button>
            <button class="effect-btn" data-effect="shredder">ğŸ“„ ë¬¸ì„œ íŒŒì‡„ê¸°ì— ê°ˆë¦¬ê¸°</button>
            <button class="effect-btn" data-effect="blackhole">âš« ë¸”ë™í™€ì— í¡ìˆ˜ë˜ê¸°</button>
        </div>

        <div class="canvas-container" id="canvasContainer">
            <canvas id="canvas"></canvas>
        </div>

        <button class="reset-btn" id="resetBtn">ğŸ”„ ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
    </div>

    <script>
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const canvasContainer = document.getElementById('canvasContainer');
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const resetBtn = document.getElementById('resetBtn');
        const effectBtns = document.querySelectorAll('.effect-btn');

        let uploadedImage = null;
        let animationId = null;

        uploadArea.addEventListener('click', () => fileInput.click());
        
        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const img = new Image();
                    img.onload = () => {
                        uploadedImage = img;
                        uploadArea.style.display = 'none';
                        effectBtns.forEach(btn => btn.classList.add('active'));
                    };
                    img.src = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });

        const randomBtn = document.getElementById('randomBtn');
        const effects = ['trash', 'space', 'police', 'tornado', 'pixel', 'portal', 'explosion', 'water', 'fire', 'matrix', 'alien', 'shredder', 'blackhole'];
        
        randomBtn.addEventListener('click', () => {
            const randomEffect = effects[Math.floor(Math.random() * effects.length)];
            startEffect(randomEffect);
        });

        effectBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const effect = btn.dataset.effect;
                if (effect) {
                    startEffect(effect);
                }
            });
        });

        resetBtn.addEventListener('click', () => {
            if (animationId) cancelAnimationFrame(animationId);
            uploadArea.style.display = 'block';
            canvasContainer.classList.remove('active');
            resetBtn.classList.remove('active');
            effectBtns.forEach(btn => btn.classList.remove('active'));
            uploadedImage = null;
            fileInput.value = '';
        });

        function startEffect(effect) {
            if (animationId) cancelAnimationFrame(animationId);
            
            canvas.width = 800;
            canvas.height = 600;
            canvasContainer.classList.add('active');
            resetBtn.classList.add('active');
            effectBtns.forEach(btn => btn.classList.remove('active'));

            switch(effect) {
                case 'trash': trashEffect(); break;
                case 'space': spaceEffect(); break;
                case 'police': policeEffect(); break;
                case 'tornado': tornadoEffect(); break;
                case 'pixel': pixelEffect(); break;
                case 'portal': portalEffect(); break;
                case 'explosion': explosionEffect(); break;
                case 'water': waterEffect(); break;
                case 'fire': fireEffect(); break;
                case 'matrix': matrixEffect(); break;
                case 'alien': alienEffect(); break;
                case 'shredder': shredderEffect(); break;
                case 'blackhole': blackholeEffect(); break;
            }
        }

        function trashEffect() {
            let frame = 0;
            const trashImg = uploadedImage;
            let y = -200;
            let rotation = 0;
            let scale = 1;

            function animate() {
                ctx.fillStyle = '#87CEEB';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // ì“°ë ˆê¸°í†µ ê·¸ë¦¬ê¸°
                ctx.fillStyle = '#666';
                ctx.fillRect(250, 400, 300, 200);
                ctx.fillStyle = '#888';
                ctx.fillRect(230, 380, 340, 30);
                
                // ì‚¬ì§„ì´ ë–¨ì–´ì§€ê¸°
                if (y < 350) {
                    y += 5;
                    rotation += 0.1;
                } else {
                    scale -= 0.02;
                    y += 2;
                }

                ctx.save();
                ctx.translate(400, y);
                ctx.rotate(rotation);
                ctx.scale(scale, scale);
                ctx.drawImage(trashImg, -100, -100, 200, 200);
                ctx.restore();

                if (scale > 0) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'black';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('ì“°ë ˆê¸° ì²˜ë¦¬ ì™„ë£Œ! ğŸ—‘ï¸', 400, 300);
                }
            }
            animate();
        }

        function waterEffect() {
            let frame = 0;
            let photoY = -200;
            let splashParticles = [];

            function animate() {
                // í•˜ëŠ˜ê³¼ ë¬¼
                const gradient = ctx.createLinearGradient(0, 0, 0, 600);
                gradient.addColorStop(0, '#87CEEB');
                gradient.addColorStop(0.6, '#4FC3F7');
                gradient.addColorStop(0.6, '#006994');
                gradient.addColorStop(1, '#003d5c');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // ë¬¼ê²°
                for (let i = 0; i < 5; i++) {
                    ctx.strokeStyle = `rgba(255, 255, 255, ${0.3 - i * 0.05})`;
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    for (let x = 0; x < 800; x += 10) {
                        const y = 360 + i * 20 + Math.sin(x * 0.02 + frame * 0.1 + i) * 10;
                        if (x === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    ctx.stroke();
                }

                // ì‚¬ì§„ ë–¨ì–´ì§€ê¸°
                if (photoY < 300) {
                    photoY += 8;
                    ctx.save();
                    ctx.translate(400, photoY);
                    ctx.rotate(Math.sin(frame * 0.2) * 0.3);
                    ctx.drawImage(uploadedImage, -100, -100, 200, 200);
                    ctx.restore();
                } else if (photoY < 400) {
                    // ë¬¼ íŠ€ê¸°ê¸°
                    if (splashParticles.length < 30) {
                        for (let i = 0; i < 5; i++) {
                            splashParticles.push({
                                x: 400 + (Math.random() - 0.5) * 100,
                                y: 300,
                                vx: (Math.random() - 0.5) * 8,
                                vy: -Math.random() * 10 - 5,
                                life: 1
                            });
                        }
                    }
                    photoY += 5;
                    
                    ctx.save();
                    ctx.globalAlpha = Math.max(0, 1 - (photoY - 300) / 100);
                    ctx.translate(400, photoY);
                    ctx.drawImage(uploadedImage, -100, -100, 200, 200);
                    ctx.restore();
                }

                // ë¬¼ íŠ€ê¹€ íŒŒí‹°í´
                splashParticles.forEach((p, idx) => {
                    p.x += p.vx;
                    p.y += p.vy;
                    p.vy += 0.5;
                    p.life -= 0.02;
                    
                    if (p.life > 0) {
                        ctx.fillStyle = `rgba(173, 216, 230, ${p.life})`;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, 5, 0, Math.PI * 2);
                        ctx.fill();
                    }
                });

                frame++;
                if (frame < 150) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'white';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('ë¬¼ì†ìœ¼ë¡œ! ğŸŒŠ', 400, 200);
                }
            }
            animate();
        }

        function fireEffect() {
            let frame = 0;
            const fireParticles = [];

            function animate() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // ì‚¬ì§„ (ì ì  íƒ€ë“¤ì–´ê°)
                if (frame < 100) {
                    ctx.save();
                    ctx.translate(400, 300);
                    
                    // êµ¬ë© íš¨ê³¼
                    for (let i = 0; i < frame; i++) {
                        const holeX = Math.random() * 300 - 150;
                        const holeY = Math.random() * 300 - 150;
                        const holeSize = Math.random() * 20 + 10;
                        
                        ctx.globalCompositeOperation = 'destination-out';
                        ctx.beginPath();
                        ctx.arc(holeX, holeY, holeSize, 0, Math.PI * 2);
                        ctx.fill();
                    }
                    
                    ctx.globalCompositeOperation = 'source-over';
                    ctx.globalAlpha = Math.max(0, 1 - frame / 100);
                    ctx.drawImage(uploadedImage, -150, -150, 300, 300);
                    ctx.restore();
                }

                // ë¶ˆê½ƒ íŒŒí‹°í´
                if (Math.random() > 0.3) {
                    fireParticles.push({
                        x: 400 + (Math.random() - 0.5) * 200,
                        y: 300 + (Math.random() - 0.5) * 200,
                        vy: -Math.random() * 3 - 2,
                        size: Math.random() * 15 + 5,
                        life: 1,
                        hue: Math.random() * 60
                    });
                }

                fireParticles.forEach((p, idx) => {
                    p.y += p.vy;
                    p.vy -= 0.1;
                    p.life -= 0.02;
                    p.size *= 0.98;
                    
                    if (p.life > 0) {
                        ctx.fillStyle = `hsla(${p.hue}, 100%, 50%, ${p.life})`;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                        ctx.fill();
                    } else {
                        fireParticles.splice(idx, 1);
                    }
                });

                frame++;
                if (frame < 150) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'orange';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('ğŸ”¥ í™œí™œ! ğŸ”¥', 400, 300);
                }
            }
            animate();
        }

        function matrixEffect() {
            let frame = 0;
            const columns = 40;
            const fontSize = 20;
            const drops = Array(columns).fill(1);
            const chars = 'ï¾Šï¾ï¾‹ï½°ï½³ï½¼ï¾…ï¾“ï¾†ï½»ï¾œï¾‚ï½µï¾˜ï½±ï¾ï¾ƒï¾ï½¹ï¾’ï½´ï½¶ï½·ï¾‘ï¾•ï¾—ï½¾ï¾ˆï½½ï¾€ï¾‡ï¾01';

            function animate() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // ì‚¬ì§„ (ì ì  ë§¤íŠ¸ë¦­ìŠ¤ ì½”ë“œë¡œ)
                if (frame < 60) {
                    ctx.globalAlpha = 1 - frame / 60;
                    ctx.drawImage(uploadedImage, 200, 100, 400, 400);
                }

                // ë§¤íŠ¸ë¦­ìŠ¤ ì½”ë“œ
                ctx.fillStyle = '#0F0';
                ctx.font = fontSize + 'px monospace';
                
                for (let i = 0; i < drops.length; i++) {
                    const text = chars[Math.floor(Math.random() * chars.length)];
                    const x = i * fontSize;
                    const y = drops[i] * fontSize;
                    
                    ctx.fillText(text, x, y);
                    
                    if (y > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }

                frame++;
                if (frame < 200) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = '#0F0';
                    ctx.font = 'bold 40px monospace';
                    ctx.textAlign = 'center';
                    ctx.fillText('SYSTEM CORRUPTED ğŸ’š', 400, 300);
                }
            }
            animate();
        }

        function alienEffect() {
            let frame = 0;
            let beamWidth = 0;
            let photoY = 300;

            function animate() {
                // ë°¤í•˜ëŠ˜
                ctx.fillStyle = '#000033';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // ë³„
                for (let i = 0; i < 50; i++) {
                    ctx.fillStyle = 'white';
                    ctx.fillRect(Math.random() * 800, Math.random() * 300, 2, 2);
                }

                if (frame > 20) {
                    // UFO
                    ctx.fillStyle = '#888';
                    ctx.beginPath();
                    ctx.ellipse(400, 100, 80, 30, 0, 0, Math.PI * 2);
                    ctx.fill();
                    
                    ctx.fillStyle = '#ADD8E6';
                    ctx.beginPath();
                    ctx.arc(400, 85, 40, 0, Math.PI);
                    ctx.fill();

                    // UFO ë¶ˆë¹›
                    for (let i = 0; i < 5; i++) {
                        const lightColor = Math.floor(frame / 5) % 2 === 0 ? '#FFD700' : '#FF6347';
                        ctx.fillStyle = lightColor;
                        ctx.beginPath();
                        ctx.arc(340 + i * 30, 115, 5, 0, Math.PI * 2);
                        ctx.fill();
                    }

                    // ê´‘ì„ 
                    if (frame > 40) {
                        beamWidth = Math.min(200, (frame - 40) * 5);
                        const gradient = ctx.createLinearGradient(400, 130, 400, 450);
                        gradient.addColorStop(0, 'rgba(255, 255, 0, 0.6)');
                        gradient.addColorStop(1, 'rgba(255, 255, 0, 0.1)');
                        ctx.fillStyle = gradient;
                        ctx.beginPath();
                        ctx.moveTo(360, 130);
                        ctx.lineTo(440, 130);
                        ctx.lineTo(400 + beamWidth / 2, 450);
                        ctx.lineTo(400 - beamWidth / 2, 450);
                        ctx.closePath();
                        ctx.fill();
                    }
                }

                // ì‚¬ì§„ (UFOì— ë¹¨ë ¤ì˜¬ë¼ê°)
                if (frame > 60 && photoY > 100) {
                    photoY -= 3;
                }

                ctx.save();
                ctx.globalAlpha = photoY > 150 ? 1 : (photoY - 100) / 50;
                ctx.drawImage(uploadedImage, 250, photoY, 300, 300);
                ctx.restore();

                frame++;
                if (frame < 150) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'lime';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('ğŸ‘½ ì™¸ê³„ë¡œ ë‚©ì¹˜! ğŸ‘½', 400, 500);
                }
            }
            animate();
        }

        function shredderEffect() {
            let frame = 0;
            const strips = [];
            const numStrips = 20;
            
            // ìŠ¤íŠ¸ë¦½ ìƒì„±
            for (let i = 0; i < numStrips; i++) {
                strips.push({
                    x: i * (300 / numStrips),
                    y: 0,
                    width: 300 / numStrips,
                    speed: 0
                });
            }

            function animate() {
                ctx.fillStyle = '#f5f5f5';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // íŒŒì‡„ê¸°
                ctx.fillStyle = '#333';
                ctx.fillRect(200, 50, 400, 100);
                ctx.fillStyle = '#555';
                ctx.fillRect(210, 60, 380, 30);

                // ì‚¬ì§„ì´ íŒŒì‡„ë˜ê¸°
                if (frame < 50) {
                    ctx.drawImage(uploadedImage, 250, 100, 300, 300);
                } else {
                    strips.forEach((strip, i) => {
                        if (frame > 50 + i * 2) {
                            strip.speed += 0.5;
                            strip.y += strip.speed;
                        }

                        ctx.save();
                        ctx.beginPath();
                        ctx.rect(250 + strip.x, 100 + strip.y, strip.width, 300);
                        ctx.clip();
                        ctx.drawImage(uploadedImage, 250, 100 + strip.y, 300, 300);
                        ctx.restore();

                        // ìŠ¤íŠ¸ë¦½ ê²½ê³„ì„ 
                        ctx.strokeStyle = '#ddd';
                        ctx.lineWidth = 1;
                        ctx.strokeRect(250 + strip.x, 100 + strip.y, strip.width, 300);
                    });
                }

                frame++;
                if (frame < 150) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'black';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('ğŸ“„ íŒŒì‡„ ì™„ë£Œ! ğŸ“„', 400, 300);
                }
            }
            animate();
        }

        function blackholeEffect() {
            let frame = 0;
            let photoScale = 1;
            let photoRotation = 0;
            const stars = Array.from({length: 100}, () => ({
                angle: Math.random() * Math.PI * 2,
                distance: Math.random() * 300 + 100,
                speed: Math.random() * 0.02 + 0.01,
                size: Math.random() * 2 + 1
            }));

            function animate() {
                ctx.fillStyle = '#000000';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // ë¸”ë™í™€
                const gradient = ctx.createRadialGradient(400, 300, 0, 400, 300, 150);
                gradient.addColorStop(0, '#000000');
                gradient.addColorStop(0.3, '#1a0033');
                gradient.addColorStop(0.6, '#330066');
                gradient.addColorStop(1, 'transparent');
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(400, 300, 150, 0, Math.PI * 2);
                ctx.fill();

                // ê°•ì°© ì›ë°˜ (accretion disk)
                for (let r = 150; r < 250; r += 10) {
                    const alpha = (250 - r) / 100;
                    ctx.strokeStyle = `rgba(255, ${100 + r / 2}, 0, ${alpha})`;
                    ctx.lineWidth = 8;
                    ctx.beginPath();
                    ctx.ellipse(400, 300, r, r * 0.3, frame * 0.05, 0, Math.PI * 2);
                    ctx.stroke();
                }

                // ë³„ë“¤ì´ ë¸”ë™í™€ë¡œ
                stars.forEach(star => {
                    star.distance -= star.distance * 0.02;
                    star.angle += star.speed;
                    
                    const x = 400 + Math.cos(star.angle) * star.distance;
                    const y = 300 + Math.sin(star.angle) * star.distance;
                    
                    ctx.fillStyle = 'white';
                    ctx.beginPath();
                    ctx.arc(x, y, star.size, 0, Math.PI * 2);
                    ctx.fill();
                });

                // ì‚¬ì§„ì´ ë¸”ë™í™€ì— í¡ìˆ˜
                photoScale *= 0.98;
                photoRotation += 0.1;
                
                ctx.save();
                ctx.globalAlpha = photoScale;
                ctx.translate(400, 300);
                ctx.rotate(photoRotation);
                ctx.scale(photoScale, photoScale);
                ctx.drawImage(uploadedImage, -150, -150, 300, 300);
                ctx.restore();

                frame++;
                if (photoScale > 0.01) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'white';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('âš« íŠ¹ì´ì ìœ¼ë¡œ! âš«', 400, 500);
                }
            }
            animate();
        }

        function spaceEffect() {
            let frame = 0;
            const stars = Array.from({length: 100}, () => ({
                x: Math.random() * 800,
                y: Math.random() * 600,
                speed: Math.random() * 3 + 1
            }));
            let photoX = 400;
            let photoY = 300;
            let photoScale = 1;

            function animate() {
                ctx.fillStyle = '#000011';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // ë³„ ê·¸ë¦¬ê¸°
                stars.forEach(star => {
                    star.x -= star.speed * (frame / 30 + 1);
                    if (star.x < 0) star.x = 800;
                    ctx.fillStyle = 'white';
                    ctx.fillRect(star.x, star.y, 2, 2);
                });

                // ì‚¬ì§„ì´ ìš°ì£¼ë¡œ
                photoX += 2;
                photoY -= 1;
                photoScale -= 0.005;

                ctx.save();
                ctx.translate(photoX, photoY);
                ctx.scale(photoScale, photoScale);
                ctx.drawImage(uploadedImage, -100, -100, 200, 200);
                ctx.restore();

                // íƒœì–‘ ê·¸ë¦¬ê¸°
                if (frame > 60) {
                    const sunSize = (frame - 60) * 5;
                    ctx.fillStyle = '#FDB813';
                    ctx.beginPath();
                    ctx.arc(700, 100, sunSize, 0, Math.PI * 2);
                    ctx.fill();
                }

                frame++;
                if (frame < 150) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'white';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('íƒœì–‘ìœ¼ë¡œ ë‚ ì•„ê°”ì–´ìš”! â˜€ï¸', 400, 300);
                }
            }
            animate();
        }

        function policeEffect() {
            let frame = 0;
            let sirenOn = true;

            function animate() {
                ctx.fillStyle = '#333';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // ì‚¬ì§„
                ctx.drawImage(uploadedImage, 250, 150, 300, 300);

                if (frame > 30) {
                    // ê²½ì°°ì°¨
                    ctx.fillStyle = '#0066cc';
                    ctx.fillRect(50, 400, 200, 100);
                    ctx.fillStyle = '#003366';
                    ctx.fillRect(50, 400, 200, 30);
                    
                    // ì‚¬ì´ë Œ
                    if (Math.floor(frame / 10) % 2 === 0) {
                        ctx.fillStyle = 'red';
                    } else {
                        ctx.fillStyle = 'blue';
                    }
                    ctx.beginPath();
                    ctx.arc(150, 380, 15, 0, Math.PI * 2);
                    ctx.fill();

                    // ê²½ì°°
                    ctx.fillStyle = '#0066cc';
                    ctx.fillRect(300, 350, 60, 100);
                    ctx.fillStyle = '#ffdbac';
                    ctx.beginPath();
                    ctx.arc(330, 330, 25, 0, Math.PI * 2);
                    ctx.fill();
                }

                if (frame > 60) {
                    ctx.fillStyle = 'white';
                    ctx.font = 'bold 30px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('ğŸš¨ ê¸´ê¸‰ ì²´í¬! ğŸš¨', 400, 550);
                }

                frame++;
                if (frame < 120) {
                    animationId = requestAnimationFrame(animate);
                }
            }
            animate();
        }

        function tornadoEffect() {
            let frame = 0;
            const particles = [];
            let photoAngle = 0;
            let photoRadius = 0;

            function animate() {
                ctx.fillStyle = '#87CEEB';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // í† ë„¤ì´ë„
                for (let i = 0; i < 20; i++) {
                    const angle = (frame * 0.1 + i * 0.3) % (Math.PI * 2);
                    const radius = 50 + i * 10;
                    const x = 400 + Math.cos(angle) * radius;
                    const y = 300 + Math.sin(angle) * radius + i * 10;
                    
                    ctx.fillStyle = `rgba(150, 150, 150, ${0.5 - i * 0.02})`;
                    ctx.beginPath();
                    ctx.arc(x, y, 20 - i * 0.5, 0, Math.PI * 2);
                    ctx.fill();
                }

                // ì‚¬ì§„ì´ í† ë„¤ì´ë„ì— íœ˜ë§ë¦¼
                photoAngle += 0.1;
                photoRadius = Math.min(150, frame * 2);
                const photoX = 400 + Math.cos(photoAngle) * photoRadius;
                const photoY = 300 + Math.sin(photoAngle) * photoRadius;

                ctx.save();
                ctx.translate(photoX, photoY);
                ctx.rotate(photoAngle * 3);
                ctx.globalAlpha = Math.max(0, 1 - frame / 150);
                ctx.drawImage(uploadedImage, -75, -75, 150, 150);
                ctx.restore();

                frame++;
                if (frame < 150) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'black';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('í† ë„¤ì´ë„ì— ë‚ ì•„ê°”ì–´ìš”! ğŸŒªï¸', 400, 300);
                }
            }
            animate();
        }

        function pixelEffect() {
            let pixelSize = 1;

            function animate() {
                ctx.fillStyle = 'black';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                const w = 400;
                const h = 400;
                const x = 200;
                const y = 100;

                ctx.drawImage(uploadedImage, x, y, w, h);
                
                if (pixelSize < 50) {
                    const imageData = ctx.getImageData(x, y, w, h);
                    
                    for (let py = 0; py < h; py += pixelSize) {
                        for (let px = 0; px < w; px += pixelSize) {
                            const i = (py * w + px) * 4;
                            const r = imageData.data[i];
                            const g = imageData.data[i + 1];
                            const b = imageData.data[i + 2];
                            
                            ctx.fillStyle = `rgb(${r},${g},${b})`;
                            ctx.fillRect(x + px, y + py, pixelSize, pixelSize);
                        }
                    }
                    
                    pixelSize += 0.5;
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'white';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('í”½ì…€ ì„¸ê³„ë¡œ! ğŸ‘¾', 400, 550);
                }
            }
            animate();
        }

        function portalEffect() {
            let frame = 0;
            let photoScale = 1;
            let photoRotation = 0;

            function animate() {
                ctx.fillStyle = '#000033';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // í¬í„¸ ê·¸ë¦¬ê¸°
                for (let i = 10; i > 0; i--) {
                    const gradient = ctx.createRadialGradient(400, 300, 0, 400, 300, i * 20);
                    gradient.addColorStop(0, `rgba(138, 43, 226, ${0.1 * i})`);
                    gradient.addColorStop(1, `rgba(75, 0, 130, ${0.05 * i})`);
                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    ctx.arc(400, 300, i * 20 + Math.sin(frame * 0.1 + i) * 5, 0, Math.PI * 2);
                    ctx.fill();
                }

                // ì‚¬ì§„ì´ í¬í„¸ì— ë¹¨ë ¤ë“¦
                photoScale -= 0.01;
                photoRotation += 0.05;

                ctx.save();
                ctx.translate(400, 300);
                ctx.rotate(photoRotation);
                ctx.scale(photoScale, photoScale);
                ctx.drawImage(uploadedImage, -150, -150, 300, 300);
                ctx.restore();

                frame++;
                if (photoScale > 0) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'purple';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('ë‹¤ë¥¸ ì°¨ì›ìœ¼ë¡œ! ğŸŒ€', 400, 300);
                }
            }
            animate();
        }

        function explosionEffect() {
            let frame = 0;
            const particles = [];
            
            // íŒŒí‹°í´ ìƒì„±
            for (let i = 0; i < 100; i++) {
                particles.push({
                    x: 400,
                    y: 300,
                    vx: (Math.random() - 0.5) * 10,
                    vy: (Math.random() - 0.5) * 10,
                    size: Math.random() * 20 + 5,
                    color: `hsl(${Math.random() * 60 + 10}, 100%, 50%)`
                });
            }

            function animate() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                if (frame < 30) {
                    // í­ë°œ ì „ ì‚¬ì§„
                    const shake = Math.sin(frame) * 5;
                    ctx.drawImage(uploadedImage, 250 + shake, 150 + shake, 300, 300);
                } else {
                    // í­ë°œ íŒŒí‹°í´
                    particles.forEach(p => {
                        p.x += p.vx;
                        p.y += p.vy;
                        p.vy += 0.2;
                        p.size *= 0.97;
                        
                        ctx.fillStyle = p.color;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                        ctx.fill();
                    });
                }

                frame++;
                if (frame < 120) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.fillStyle = 'white';
                    ctx.font = 'bold 40px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('ğŸ’¥ ëŒ€í­ë°œ! ğŸ’¥', 400, 300);
                }
            }
            animate();
        }
    </script>
</body>
</html>